<!-- Global navigation bar rendered on every page via layout.ejs -->
<header class="site-header">
    <nav>
      <div class="container nav-row" id="mainNav">
        <a class="logo" href="/">Goal Tracker</a>
        <ul class="nav-links">
          <li><a href="/" data-path="/">Home</a></li>
          <li><a href="/about" data-path="/about">About</a></li>
  
          <% if (user) { %>
            <!-- Authenticated-only shortcuts -->
            <li><a href="/dashboard" data-path="/dashboard">Dashboard</a></li>
            <li><a href="/users/profile" data-path="/users/profile">Profile</a></li>
            <li>
              <form action="/users/logout" method="POST" style="display:inline">
                <!-- CSRF token required because logout mutates the session -->
                <input type="hidden" name="_csrf" value="<%= csrfToken %>">
                <button type="submit" class="chip chip-accent">Logout</button>
              </form>
            </li>
          <% } else { %>
            <!-- Guest-only entry point -->
            <li><a href="/users/login" data-path="/users/login" class="chip chip-accent">Login</a></li>
          <% } %>
        </ul>
      </div>
    </nav>
  </header>
  